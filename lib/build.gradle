apply plugin: 'com.android.library'

android {
    compileSdkVersion 27
    defaultConfig {
        minSdkVersion 25
        targetSdkVersion 27
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
        }
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
}

def outputJarDir = 'build/outputs/jar'
task clearJar(type: Delete) {
    delete outputJarDir
}
task makeJar(type: Copy) {
    mkdir outputJarDir

    from('build/intermediates/intermediate-jars/release/')
    into(outputJarDir)
    include('classes.jar')
    rename('classes.jar', "zdmm.jar")
}
makeJar.dependsOn(clearJar, build)